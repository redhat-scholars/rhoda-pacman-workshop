<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Continuous Integration and Pipelines :: Deploy Pacman using Red Hat OpenShift Database Access</title>
    <link rel="canonical" href="https://redhat-scholars.github.io/course-template/rhoda-pacman-workshop/pacman-python-pipeline.html">
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://developers.redhat.com" target="_blank"><img src="../_/img/NewRHDFullLogo_4-color_white-wordmark.png" height="40px" alt="Red Hat Developer Program"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="https://redhat-scholars.github.io/course-template">Deploy Pacman using Red Hat OpenShift Database Access</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://developers.redhat.com/ebooks/" target="_blank">Books</a>
        <a class="navbar-item" href="https://developers.redhat.com/cheatsheets/" target="_blank">Cheat Sheets</a>
        <a class="navbar-item" href="https://developers.redhat.com/events/" target="_blank">Upcoming Events</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">More Tutorials</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/kubernetes-tutorial/" target="_blank">Kubernetes</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/istio-tutorial/" target="_blank">Istio</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/quarkus-tutorial/" target="_blank">Quarkus</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/knative-tutorial/" target="_blank">Knative</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/tekton-tutorial/" target="_blank">Tekton</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="rhoda-pacman-workshop" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html"></a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="common-workshop-summary.html">Workshop Summary</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="common-environment.html">OpenShift Architecture</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="common-explore.html">Explore OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="common-explore.html#the_web_console">The Web Console</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="common-explore.html#command_line_interface">Command Line Interface</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="common-explore.html#download_openshift_cli">Download OpenShift CLI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="common-explore.html#use_web_terminal">Web Terminal</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="common-explore.html#connect_to_the_cluster_with_cli">Connect to the OpenShift Cluster from CLI</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="common-explore.html#working_with_proxies">Working with proxies</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="prerequisites.html">Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="projects.html">Projects</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="projects.html#create_your_first_project">Create your First Project</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="common-pacman-architecture.html">Pacman Architecture</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="pacman-java.html">Pacman App</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java.html#source_to_image">Background: Source-to-Image (S2I)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="pacman-java.html#creating_java_application">Exercise: Creating a {lab-name} application</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pacman-java.html#add_to_project">Add to Project</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pacman-java.html#using_application_code_on_git_server">Using Application Code on a Git Server</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pacman-java.html#build_code_on_openshift">Build the Code on OpenShift</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="pacman-java-databases.html">Connecting to a Database</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-databases.html#storage">Background: Storage</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-databases.html#templates">Background: Templates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-databases.html#create_mongodb_template">Exercise: Create MongoDB Template</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-databases.html#deploy_mongodb">Exercise: Deploy MongoDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-databases.html#exploring_openshift_magic">Exercise: Exploring OpenShift Magic</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-databases.html#data_data_everywhere">Exercise: Data, Data, Everywhere</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-databases.html#working_with_labels">Exercise: Working With Labels</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="pacman-application-health.html">Application Healthchecks</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-application-health.html#add_health_checks">Exercise: Add Health Checks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="pacman-java-codechanges-github.html">Webhooks with OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-codechanges-github.html#prerequisite_github_account">Prerequisite: GitHub Account</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-codechanges-github.html#webhooks">Webhooks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-codechanges-github.html#webhooks_with_openshift">Webhooks with OpenShift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-codechanges-github.html#configuring_github_webhooks">Exercise: Configuring GitHub Web Hooks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-codechanges-github.html#using_github_webhooks">Exercise: Using GitHub Web Hooks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="pacman-java-codechanges-github-actions.html">GitHub Actions with OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-codechanges-github-actions.html#disable_github_webhook">Disable GitHub Webhook</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-codechanges-github-actions.html#disable_openshift_triggers">Disable OpenShift Triggers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-codechanges-github-actions.html#configure_github_action">Configure GitHub Action</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-codechanges-github-actions.html#add_github_action">Add GitHub Action</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-codechanges-github-actions.html#enable_openshift_triggers">Enable OpenShift Triggers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="pacman-java-pipeline.html">Continuous Integration and Pipelines</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-pipeline.html#install_openshift_pipelines_from_operatorhub">Install OpenShift Pipelines from OperatorHub</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-pipeline.html#understanding_tekton">Understanding Tekton</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-pipeline.html#create_your_pipeline">Create Your Pipeline</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-pipeline.html#run_the_pipeline">Run the Pipeline</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="pacman-java-pipeline-codechanges-github.html">Webhooks with Pipelines</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-pipeline-codechanges-github.html#prerequisite_github_account">Prerequisite: GitHub Account</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-pipeline-codechanges-github.html#webhooks">Web Hooks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-pipeline-codechanges-github.html#adding_triggers_to_your_pipeline">Adding Triggers to your Pipeline</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-pipeline-codechanges-github.html#configuring_github_webhooks">Exercise: Configuring GitHub Web Hooks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pacman-java-pipeline-codechanges-github.html#using_github_webhooks">Exercise: Using GitHub Web Hooks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="common-further-resources.html">Further Resources</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="common-workshop-links.html">Workshop Links</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="common-workshop-links.html#openshift_cluster_url">OpenShift Cluster URL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="common-workshop-links.html#workshop_guides">Workshop Guides</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="common-workshop-links.html#web_terminal">Web terminal</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="common-workshop-links.html#git_server">Git Server</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Deploy Pacman using Red Hat OpenShift Database Access</a></li>
    <li><a href="pacman-python-pipeline.html">Continuous Integration and Pipelines</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/redhat-scholars/rhoda-pacman-workshop/edit/master/documentation/modules/ROOT/pages/pacman-python-pipeline.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Continuous Integration and Pipelines</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In this lab you will learn about pipelines and how to configure a pipeline in OpenShift so
that it will take care of the application lifecycle.</p>
</div>
<div class="paragraph">
<p>A continuous delivery (CD) pipeline is an automated expression of your process for getting software
from version control right through to your users and customers.
Every change to your software (committed in source control) goes through a complex process on
its way to being released. This process involves building the software in a reliable and repeatable
manner, as well as progressing the built software (called a "build") through multiple stages of
testing and deployment.</p>
</div>
<div class="paragraph">
<p>OpenShift Pipelines is a cloud-native, continuous integration and delivery (CI/CD) solution for building pipelines using <a href="https://tekton.dev/">Tekton</a>. Tekton is a flexible, Kubernetes-native, open-source CI/CD framework that enables automating deployments across multiple platforms (Kubernetes, serverless, VMs, etc) by abstracting away the underlying details.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/devops-pipeline-flow.png" alt="Pipelines">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="understanding_tekton"><a class="anchor" href="#understanding_tekton"></a>Understanding Tekton</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Tekton defines a number of <a href="https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/">Kubernetes custom resources</a> as building blocks in order to standardize pipeline concepts and provide a terminology that is consistent across CI/CD solutions.</p>
</div>
<div class="paragraph">
<p>The custom resources needed to define a pipeline are listed below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Task</code>: a reusable, loosely coupled number of steps that perform a specific task (e.g. building a container image)</p>
</li>
<li>
<p><code>Pipeline</code>: the definition of the pipeline and the <code>Tasks</code> that it should perform</p>
</li>
<li>
<p><code>TaskRun</code>: the execution and result of running an instance of task</p>
</li>
<li>
<p><code>PipelineRun</code>: the execution and result of running an instance of pipeline, which includes a number of <code>TaskRuns</code></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/tekton-architecture.png" alt="Tekton Architecture">
</div>
</div>
<div class="paragraph">
<p>In short, in order to create a pipeline, one does the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create custom or install <a href="https://github.com/tektoncd/catalog">existing</a> reusable <code>Tasks</code></p>
</li>
<li>
<p>Create a <code>Pipeline</code> and <code>PipelineResources</code> to define your application&#8217;s delivery pipeline</p>
</li>
<li>
<p>Create a <code>PersistentVolumeClaim</code> to provide the volume/filesystem for pipeline execution or provide a <code>VolumeClaimTemplate</code> which creates a <code>PersistentVolumeClaim</code></p>
</li>
<li>
<p>Create a <code>PipelineRun</code> to instantiate and invoke the pipeline</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For further details on pipeline concepts, refer to the <a href="https://github.com/tektoncd/pipeline/tree/master/docs#learn-more">Tekton documentation</a> that provides an excellent guide for understanding various parameters and attributes available for defining pipelines.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="explore_pipeline"><a class="anchor" href="#explore_pipeline"></a>Explore your Pipeline</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As pipelines provide the ability to promote applications between different stages of the delivery cycle, Tekton, which is our Continuous Integration server that will execute our pipelines, will be deployed on a project with a Continuous Integration role. Pipelines executed in this project will have permissions to interact with all the projects modeling the different stages of our delivery cycle.</p>
</div>
<div class="paragraph">
<p>For this example, we&#8217;re going to deploy our pipeline that we created automatically from Developer Console together with <code>nationalparks</code> backend.</p>
</div>
<div class="paragraph">
<p>Verify Tasks already available in the OpenShift cluster (ClusterTasks):</p>
</div>
<div class="listingblock execute-1">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">oc get clustertasks -n {{project_namespace}}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see something similar:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">NAME                 AGE
....
s2i-python-3               4h58m
s2i-python-3-pr            4h58m
....</code></pre>
</div>
</div>
<div class="paragraph">
<p>Verify the Pipeline we created:</p>
</div>
<div class="listingblock execute-1">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">oc get pipelines -n {{project_namespace}}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">NAME                     AGE
nationalparks   5m</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s review our Tekton Pipeline:</p>
</div>
<div class="listingblock copypaste">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">---
apiVersion: tekton.dev/v1beta1
kind: Pipeline
metadata:
  name: nationalparks
spec:
  params:
    - default: nationalparks
      name: APP_NAME
      type: string
    - default: &gt;-
        https://github.com/openshift-roadshow/nationalparks-py.git
      name: GIT_REPO
      type: string
    - default: master
      name: GIT_REVISION
      type: string
    - default: 'image-registry.openshift-image-registry.svc:5000/user1/nationalparks'
      name: IMAGE_NAME
      type: string
    - default: .
      name: PATH_CONTEXT
      type: string
    - default: '1'
      name: MINOR_VERSION
      type: string
  tasks:
    - name: fetch-repository
      params:
        - name: url
          value: $(params.GIT_REPO)
        - name: revision
          value: $(params.GIT_REVISION)
        - name: subdirectory
          value: ''
        - name: deleteExisting
          value: 'true'
      taskRef:
        kind: ClusterTask
        name: git-clone
      workspaces:
        - name: output
          workspace: workspace
    - name: build
      params:
        - name: IMAGE
          value: $(params.IMAGE_NAME)
        - name: TLSVERIFY
          value: 'false'
        - name: PATH_CONTEXT
          value: $(params.PATH_CONTEXT)
        - name: MINOR_VERSION
          value: $(params.MINOR_VERSION)
      runAfter:
        - fetch-repository
      taskRef:
        kind: ClusterTask
        name: s2i-python-3
      workspaces:
        - name: source
          workspace: workspace
    - name: deploy
      params:
        - name: SCRIPT
          value: kubectl $@
        - name: ARGS
          value:
            - rollout
            - status
            - deploy/$(params.APP_NAME)
      runAfter:
        - build
      taskRef:
        kind: ClusterTask
        name: openshift-client
  workspaces:
    - name: workspace</code></pre>
</div>
</div>
<div class="paragraph">
<p>A <code>Pipeline</code> is a user-defined model of a CD pipeline. A Pipeline’s code defines your entire build process, which typically includes stages for building an application, testing it and then delivering it.</p>
</div>
<div class="paragraph">
<p>A <code>Task</code> and a <code>ClusterTask</code> contain some step to be executed. <strong>ClusterTasks</strong> are available to all user within a cluster where OpenShift Pipelines has been installed, while <strong>Tasks</strong> can be custom.</p>
</div>
<div class="paragraph">
<p>This pipeline has 3 Tasks defined:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>fetch-repository</strong>: this is a <code>ClusterTask</code> that will clone our source repository for nationalparks and store it to a <code>Workspace</code> <code>app-source</code> which will use the PVC created for it <code>app-source-workspace</code></p>
</li>
<li>
<p><strong>build</strong>: will build and test our Python application, generate and push a container image automatically with compiled binaries inside OpenShift Container Registry.</p>
</li>
<li>
<p><strong>deploy</strong>: it will deploy the created image on OpenShift using the Deployment named <code>nationalparks</code> we created in the previous lab.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>From left-side menu, click on <strong>Pipeline</strong>, then click on <strong>nationalparks</strong> to see the pipeline you just created.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/devops-pipeline-created-new.png" alt="Pipeline created">
</div>
</div>
<div class="paragraph">
<p>The Pipeline is parametric, with default value on the one we need to use.</p>
</div>
<div class="paragraph">
<p>It is using one <strong>Workspace</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>app-source</strong>: this need to be linked to a <strong>PersistentVolumeClaim</strong> since will be used to store the code and the compiled binary to be used in different <strong>Tasks</strong></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="add_storage_for_pipeline"><a class="anchor" href="#add_storage_for_pipeline"></a>Exercise: Add Storage for your Pipeline</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OpenShift manages Storage with <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/">Persistent Volumes</a> to be attached to Pods running our applications through <strong>Persistent Volume Claim</strong> requests, and it also provides the capability to manage it at ease from Web Console.
From <strong>Administrator Perspective</strong>, go to <strong>Storage</strong>&#8594; <strong>Persistent Volume Claims</strong>.</p>
</div>
<div class="paragraph">
<p>Go to top-right side and click <strong>Create Persistent Volume Claim</strong> button.</p>
</div>
<div class="paragraph">
<p>Inside <strong>Persistent Volume Claim name</strong> insert <strong>app-source-pvc</strong>.</p>
</div>
<div class="paragraph">
<p>In <strong>Size</strong> section, insert <strong>1</strong> as we are going to create 1 GiB Persistent Volume for our Pipeline, using RWO Single User access mode.</p>
</div>
<div class="paragraph">
<p>Leave all other default settings, and click <strong>Create</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/nationalparks-codechanges-pipeline-pvc.png" alt="Create PVC">
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The <strong>Storage Class</strong> is the type of storage available in the cluster.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="run_the_pipeline"><a class="anchor" href="#run_the_pipeline"></a>Run the Pipeline</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We can start now the Pipeline from the Web Console. Switch to <strong>Developer Perspective</strong>, and from left-side menu, click on <strong>Pipeline</strong>, then click on <strong>nationalparks</strong>. From top-right <strong>Actions</strong> list, click on <strong>Start</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/devops-pipeline-start-1-new.png" alt="Start Pipeline">
</div>
</div>
<div class="paragraph">
<p>You will be prompted with parameters to add the Pipeline, showing default ones.</p>
</div>
<div class="paragraph">
<p>In <strong>Workspaces</strong>&#8594; <strong>app-source</strong> select <strong>PVC</strong> from the list, then select <strong>app-source-pvc</strong>. This is the shared volume used by Pipeline Tasks in your Pipeline containing the source code and compiled artifacts.</p>
</div>
<div class="paragraph">
<p>Click on <strong>Start</strong> to run your Pipeline.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/devops-pipeline-start-2-new.png" alt="Add parameters">
</div>
</div>
<div class="paragraph">
<p>You can follow the Pipeline execution from <strong>Pipeline</strong> section, watching all the steps in rogress. Click on <strong>Pipeline Runs</strong> tab to see it running:</p>
</div>
<div class="paragraph">
<p>image::devops-pipeline-run-1.png[Pipeline runnin</p>
</div>
<div class="paragraph">
<p>In <strong>Workspaces</strong>&#8594; <strong>app-source</strong> select <strong>PVC</strong> from the list, then select <strong>app-source-pvc</strong>. This is the share volume used by Pipeline Tasks in your Pipeline containing the source code and compiled artifacts.</p>
</div>
<div class="paragraph">
<p>Click on <strong>Start</strong> to run your Pipeline.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/devops-pipeline-start-2.png" alt="Add parameters">
</div>
</div>
<div class="paragraph">
<p>You can follow the Pipeline execution from <strong>Pipeline</strong> section, watching all the steps in g]</p>
</div>
<div class="paragraph">
<p>The click on the <code>PipelineRun</code> <strong>national-parks-deploy-run-</strong>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/devops-pipeline-run-2.png" alt="Pipeline running animation">
</div>
</div>
<div class="paragraph">
<p>Then click on the <strong>Task</strong> running to check logs:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/devops-pipeline-run-3.png" alt="Pipeline Task log">
</div>
</div>
<div class="paragraph">
<p>Verify PipelineRun has been completed with success:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/devops-pipeline-run-4.png" alt="PipelineRun completed">
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a class="rhd-logo" href="https://developers.redhat.com" target="_blank"></div>
</footer>
<script src="../_/js/vendor/clipboard.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
